#%Module1.0######################################################################
##
## otter modulefile
##

# Use env instead of getenv for compatibility with modules < 4.0
if { [info exists ::env(OTTER) ] } {
    set OTTER $::env(OTTER)
} else {
    set OTTER "~/local/apps/otter"
}

proc ModulesHelp { } {
    puts stderr "  Load otter from the directory given by `OTTER_INSTALL_DIR`,"
    puts stderr "  (default=~/local/apps/otter)"
    puts stderr "  For example:"
    puts stderr ""
    puts stderr "  > export OTTER_INSTALL_DIR=/home/adam/local/apps/otter"
    puts stderr "  > module whatis otter"
    puts stderr "        otter: Load otter installation: /home/adam/local/apps/otter"
    puts stderr ""
}

module-whatis   "Load otter installation: ${OTTER}"

# Add software to environment
prepend-path PATH ${OTTER}/bin
prepend-path CPATH ${OTTER}/include
prepend-path OTTER_FORTRAN_INCLUDES ${OTTER}/include/otter
prepend-path LIBRARY_PATH ${OTTER}/lib
prepend-path LD_LIBRARY_PATH ${OTTER}/lib

# Add the OMPT plugin location
setenv OTTER ${OTTER}
setenv OTTER_OMPT_LIBRARY ${OTTER}/lib/libotter-ompt.so
setenv OTTER_EXAMPLES_DIR ${OTTER}/bin
